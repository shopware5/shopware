<?php
/**
 * Shopware 4.0
 * Copyright © 2012 shopware AG
 *
 * According to our dual licensing model, this program can be used either
 * under the terms of the GNU Affero General Public License, version 3,
 * or under a proprietary license.
 *
 * The texts of the GNU Affero General Public License with an additional
 * permission and of our proprietary license can be found at and
 * in the LICENSE file you have received along with this program.
 *
 * This program is distributed in the hope that it will be useful,
 * but WITHOUT ANY WARRANTY; without even the implied warranty of
 * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the
 * GNU Affero General Public License for more details.
 *
 * "Shopware" is a registered trademark of shopware AG.
 * The licensing of the program under the AGPLv3 does not imply a
 * trademark license. Therefore any rights, title and interest in
 * our trademarks remain entirely with us.
 */

/**
 * @category  Shopware
 * @package   Shopware\Tests
 * @copyright Copyright (c) 2012, shopware AG (http://www.shopware.de)
 */
class Shopware_Tests_Models_Category_ActiveByParentIdQueryTest extends Enlight_Components_Test_TestCase
{
    /**
     * @var \Shopware\Models\Category\Repository
     */
    protected $repo = null;

    protected $expected = array(
	1=> array ( 0 => array ( 'category' => array ( 'id' => 3, 'parentId' => 1, 'name' => 'Deutsch', 'position' => 1, 'left' => 2, 'level' => 1, 'right' => 65, 'metaKeywords' => NULL, 'metaDescription' => '', 'cmsHeadline' => '', 'active' => true, 'template' => '', 'blog' => false, 'showFilterGroups' => false, 'external' => '', 'hideFilter' => false, 'hideTop' => false, 'noViewSelect' => false, 'media' => NULL, 'attribute' => array ( 'id' => 1, 'categoryId' => 3, 'attribute1' => '', 'attribute2' => '', 'attribute3' => '', 'attribute4' => '', 'attribute5' => '', 'attribute6' => '', ), 'emotions' => NULL, 'articles' => NULL, ), 'childrenCount' => '31.0000', 'articleCount' => '305', ), 1 => array ( 'category' => array ( 'id' => 39, 'parentId' => 1, 'name' => 'English', 'position' => NULL, 'left' => 66, 'level' => 1, 'right' => 125, 'metaKeywords' => NULL, 'metaDescription' => '', 'cmsHeadline' => '', 'active' => true, 'template' => NULL, 'blog' => false, 'showFilterGroups' => true, 'external' => '', 'hideFilter' => false, 'hideTop' => false, 'noViewSelect' => false, 'media' => NULL, 'attribute' => array ( 'id' => 43, 'categoryId' => 39, 'attribute1' => '', 'attribute2' => '', 'attribute3' => '', 'attribute4' => '', 'attribute5' => '', 'attribute6' => '', ), 'emotions' => NULL, 'articles' => NULL, ), 'childrenCount' => '29.0000', 'articleCount' => '115', ), ),3=> array ( 0 => array ( 'category' => array ( 'id' => 5, 'parentId' => 3, 'name' => 'Genusswelten', 'position' => 0, 'left' => 3, 'level' => 2, 'right' => 14, 'metaKeywords' => NULL, 'metaDescription' => '', 'cmsHeadline' => 'Genusswelten', 'active' => true, 'template' => 'article_listing_1col.tpl', 'blog' => false, 'showFilterGroups' => true, 'external' => '', 'hideFilter' => false, 'hideTop' => false, 'noViewSelect' => false, 'media' => NULL, 'attribute' => array ( 'id' => 3, 'categoryId' => 5, 'attribute1' => '', 'attribute2' => '', 'attribute3' => '', 'attribute4' => '', 'attribute5' => '', 'attribute6' => '', ), 'emotions' => NULL, 'articles' => NULL, ), 'childrenCount' => '5.0000', 'articleCount' => '56', ), 1 => array ( 'category' => array ( 'id' => 9, 'parentId' => 3, 'name' => 'Freizeitwelten', 'position' => 1, 'left' => 15, 'level' => 2, 'right' => 20, 'metaKeywords' => NULL, 'metaDescription' => '', 'cmsHeadline' => 'Freizeitwelten', 'active' => true, 'template' => '', 'blog' => false, 'showFilterGroups' => true, 'external' => '', 'hideFilter' => false, 'hideTop' => false, 'noViewSelect' => false, 'media' => NULL, 'attribute' => array ( 'id' => 7, 'categoryId' => 9, 'attribute1' => '', 'attribute2' => '', 'attribute3' => '', 'attribute4' => '', 'attribute5' => '', 'attribute6' => '', ), 'emotions' => NULL, 'articles' => NULL, ), 'childrenCount' => '2.0000', 'articleCount' => '27', ), 2 => array ( 'category' => array ( 'id' => 8, 'parentId' => 3, 'name' => 'Wohnwelten', 'position' => 2, 'left' => 21, 'level' => 2, 'right' => 28, 'metaKeywords' => NULL, 'metaDescription' => '', 'cmsHeadline' => 'Wohnwelten', 'active' => true, 'template' => 'article_listing_4col.tpl', 'blog' => false, 'showFilterGroups' => true, 'external' => '', 'hideFilter' => false, 'hideTop' => false, 'noViewSelect' => false, 'media' => NULL, 'attribute' => array ( 'id' => 6, 'categoryId' => 8, 'attribute1' => '', 'attribute2' => '', 'attribute3' => '', 'attribute4' => '', 'attribute5' => '', 'attribute6' => '', ), 'emotions' => NULL, 'articles' => NULL, ), 'childrenCount' => '3.0000', 'articleCount' => '82', ), 3 => array ( 'category' => array ( 'id' => 6, 'parentId' => 3, 'name' => 'Sommerwelten', 'position' => 3, 'left' => 29, 'level' => 2, 'right' => 38, 'metaKeywords' => NULL, 'metaDescription' => '', 'cmsHeadline' => 'Sommerwelten', 'active' => true, 'template' => 'article_listing_4col.tpl', 'blog' => false, 'showFilterGroups' => true, 'external' => '', 'hideFilter' => false, 'hideTop' => false, 'noViewSelect' => false, 'media' => NULL, 'attribute' => array ( 'id' => 4, 'categoryId' => 6, 'attribute1' => '', 'attribute2' => '', 'attribute3' => '', 'attribute4' => '', 'attribute5' => '', 'attribute6' => '', ), 'emotions' => NULL, 'articles' => NULL, ), 'childrenCount' => '4.0000', 'articleCount' => '103', ), 4 => array ( 'category' => array ( 'id' => 10, 'parentId' => 3, 'name' => 'Beispiele', 'position' => 4, 'left' => 39, 'level' => 2, 'right' => 62, 'metaKeywords' => NULL, 'metaDescription' => '', 'cmsHeadline' => 'Beispiele', 'active' => true, 'template' => '', 'blog' => false, 'showFilterGroups' => true, 'external' => '', 'hideFilter' => false, 'hideTop' => false, 'noViewSelect' => false, 'media' => NULL, 'attribute' => array ( 'id' => 8, 'categoryId' => 10, 'attribute1' => '', 'attribute2' => '', 'attribute3' => '', 'attribute4' => '', 'attribute5' => '', 'attribute6' => '', ), 'emotions' => NULL, 'articles' => NULL, ), 'childrenCount' => '11.0000', 'articleCount' => '37', ), 5 => array ( 'category' => array ( 'id' => 17, 'parentId' => 3, 'name' => 'Trends + News', 'position' => 3, 'left' => 63, 'level' => 2, 'right' => 64, 'metaKeywords' => NULL, 'metaDescription' => '', 'cmsHeadline' => 'Blogfunktion', 'active' => true, 'template' => '', 'blog' => true, 'showFilterGroups' => true, 'external' => '', 'hideFilter' => false, 'hideTop' => false, 'noViewSelect' => false, 'media' => NULL, 'attribute' => array ( 'id' => 15, 'categoryId' => 17, 'attribute1' => '', 'attribute2' => '', 'attribute3' => '', 'attribute4' => '', 'attribute5' => '', 'attribute6' => '', ), 'emotions' => NULL, 'articles' => NULL, ), 'childrenCount' => '0.0000', 'articleCount' => '0', ), ),39=> array ( 0 => array ( 'category' => array ( 'id' => 42, 'parentId' => 39, 'name' => 'Trends + News', 'position' => 0, 'left' => 67, 'level' => 2, 'right' => 68, 'metaKeywords' => NULL, 'metaDescription' => '', 'cmsHeadline' => '', 'active' => true, 'template' => NULL, 'blog' => true, 'showFilterGroups' => true, 'external' => '', 'hideFilter' => false, 'hideTop' => false, 'noViewSelect' => false, 'media' => NULL, 'attribute' => array ( 'id' => 46, 'categoryId' => 42, 'attribute1' => '', 'attribute2' => '', 'attribute3' => '', 'attribute4' => '', 'attribute5' => '', 'attribute6' => '', ), 'emotions' => NULL, 'articles' => NULL, ), 'childrenCount' => '0.0000', 'articleCount' => '0', ), 1 => array ( 'category' => array ( 'id' => 43, 'parentId' => 39, 'name' => 'Worlds of indulgence', 'position' => 1, 'left' => 69, 'level' => 2, 'right' => 80, 'metaKeywords' => NULL, 'metaDescription' => '', 'cmsHeadline' => '', 'active' => true, 'template' => NULL, 'blog' => false, 'showFilterGroups' => true, 'external' => '', 'hideFilter' => false, 'hideTop' => false, 'noViewSelect' => false, 'media' => NULL, 'attribute' => array ( 'id' => 47, 'categoryId' => 43, 'attribute1' => '', 'attribute2' => '', 'attribute3' => '', 'attribute4' => '', 'attribute5' => '', 'attribute6' => '', ), 'emotions' => NULL, 'articles' => NULL, ), 'childrenCount' => '5.0000', 'articleCount' => '36', ), 2 => array ( 'category' => array ( 'id' => 44, 'parentId' => 39, 'name' => 'Leisure worlds', 'position' => 2, 'left' => 81, 'level' => 2, 'right' => 86, 'metaKeywords' => NULL, 'metaDescription' => '', 'cmsHeadline' => '', 'active' => true, 'template' => NULL, 'blog' => false, 'showFilterGroups' => true, 'external' => '', 'hideFilter' => false, 'hideTop' => false, 'noViewSelect' => false, 'media' => NULL, 'attribute' => array ( 'id' => 48, 'categoryId' => 44, 'attribute1' => '', 'attribute2' => '', 'attribute3' => '', 'attribute4' => '', 'attribute5' => '', 'attribute6' => '', ), 'emotions' => NULL, 'articles' => NULL, ), 'childrenCount' => '2.0000', 'articleCount' => '11', ), 3 => array ( 'category' => array ( 'id' => 45, 'parentId' => 39, 'name' => 'Home sweet home', 'position' => 3, 'left' => 87, 'level' => 2, 'right' => 94, 'metaKeywords' => NULL, 'metaDescription' => '', 'cmsHeadline' => '', 'active' => true, 'template' => NULL, 'blog' => false, 'showFilterGroups' => true, 'external' => '', 'hideFilter' => false, 'hideTop' => false, 'noViewSelect' => false, 'media' => NULL, 'attribute' => array ( 'id' => 49, 'categoryId' => 45, 'attribute1' => '', 'attribute2' => '', 'attribute3' => '', 'attribute4' => '', 'attribute5' => '', 'attribute6' => '', ), 'emotions' => NULL, 'articles' => NULL, ), 'childrenCount' => '3.0000', 'articleCount' => '16', ), 4 => array ( 'category' => array ( 'id' => 46, 'parentId' => 39, 'name' => 'Summertime', 'position' => 4, 'left' => 95, 'level' => 2, 'right' => 104, 'metaKeywords' => NULL, 'metaDescription' => '', 'cmsHeadline' => '', 'active' => true, 'template' => NULL, 'blog' => false, 'showFilterGroups' => true, 'external' => '', 'hideFilter' => false, 'hideTop' => false, 'noViewSelect' => false, 'media' => NULL, 'attribute' => array ( 'id' => 50, 'categoryId' => 46, 'attribute1' => '', 'attribute2' => '', 'attribute3' => '', 'attribute4' => '', 'attribute5' => '', 'attribute6' => '', ), 'emotions' => NULL, 'articles' => NULL, ), 'childrenCount' => '4.0000', 'articleCount' => '19', ), 5 => array ( 'category' => array ( 'id' => 61, 'parentId' => 39, 'name' => 'Examples', 'position' => NULL, 'left' => 105, 'level' => 2, 'right' => 124, 'metaKeywords' => NULL, 'metaDescription' => '', 'cmsHeadline' => '', 'active' => true, 'template' => NULL, 'blog' => false, 'showFilterGroups' => true, 'external' => '', 'hideFilter' => false, 'hideTop' => false, 'noViewSelect' => false, 'media' => NULL, 'attribute' => array ( 'id' => 65, 'categoryId' => 61, 'attribute1' => '', 'attribute2' => '', 'attribute3' => '', 'attribute4' => '', 'attribute5' => '', 'attribute6' => '', ), 'emotions' => NULL, 'articles' => NULL, ), 'childrenCount' => '9.0000', 'articleCount' => '33', ), ),5=> array ( 0 => array ( 'category' => array ( 'id' => 11, 'parentId' => 5, 'name' => 'Tees und Zubehör', 'position' => 0, 'left' => 4, 'level' => 3, 'right' => 9, 'metaKeywords' => NULL, 'metaDescription' => '', 'cmsHeadline' => 'Tees und Zubehör', 'active' => true, 'template' => 'article_listing_3col.tpl', 'blog' => false, 'showFilterGroups' => true, 'external' => '', 'hideFilter' => false, 'hideTop' => false, 'noViewSelect' => false, 'media' => NULL, 'attribute' => array ( 'id' => 9, 'categoryId' => 11, 'attribute1' => '', 'attribute2' => '', 'attribute3' => '', 'attribute4' => '', 'attribute5' => '', 'attribute6' => '', ), 'emotions' => NULL, 'articles' => NULL, ), 'childrenCount' => '2.0000', 'articleCount' => '24', ), 1 => array ( 'category' => array ( 'id' => 14, 'parentId' => 5, 'name' => 'Edelbrände', 'position' => 0, 'left' => 10, 'level' => 3, 'right' => 11, 'metaKeywords' => NULL, 'metaDescription' => '', 'cmsHeadline' => 'Die besten Edelbrände', 'active' => true, 'template' => 'article_listing_1col.tpl', 'blog' => false, 'showFilterGroups' => true, 'external' => '', 'hideFilter' => false, 'hideTop' => false, 'noViewSelect' => false, 'media' => NULL, 'attribute' => array ( 'id' => 12, 'categoryId' => 14, 'attribute1' => '', 'attribute2' => '', 'attribute3' => '', 'attribute4' => '', 'attribute5' => '', 'attribute6' => '', ), 'emotions' => NULL, 'articles' => NULL, ), 'childrenCount' => '0.0000', 'articleCount' => '12', ), 2 => array ( 'category' => array ( 'id' => 15, 'parentId' => 5, 'name' => 'Köstlichkeiten', 'position' => 0, 'left' => 12, 'level' => 3, 'right' => 13, 'metaKeywords' => NULL, 'metaDescription' => '', 'cmsHeadline' => 'Köstlichkeiten', 'active' => true, 'template' => 'article_listing_2col.tpl', 'blog' => false, 'showFilterGroups' => true, 'external' => '', 'hideFilter' => false, 'hideTop' => false, 'noViewSelect' => false, 'media' => NULL, 'attribute' => array ( 'id' => 13, 'categoryId' => 15, 'attribute1' => '', 'attribute2' => '', 'attribute3' => '', 'attribute4' => '', 'attribute5' => '', 'attribute6' => '', ), 'emotions' => NULL, 'articles' => NULL, ), 'childrenCount' => '0.0000', 'articleCount' => '9', ), ),6=> array ( 0 => array ( 'category' => array ( 'id' => 34, 'parentId' => 6, 'name' => 'Beachwear', 'position' => 0, 'left' => 30, 'level' => 3, 'right' => 31, 'metaKeywords' => NULL, 'metaDescription' => '', 'cmsHeadline' => '', 'active' => true, 'template' => '', 'blog' => false, 'showFilterGroups' => true, 'external' => '', 'hideFilter' => false, 'hideTop' => false, 'noViewSelect' => false, 'media' => NULL, 'attribute' => array ( 'id' => 38, 'categoryId' => 34, 'attribute1' => '', 'attribute2' => '', 'attribute3' => '', 'attribute4' => '', 'attribute5' => '', 'attribute6' => '', ), 'emotions' => NULL, 'articles' => NULL, ), 'childrenCount' => '0.0000', 'articleCount' => '18', ), 1 => array ( 'category' => array ( 'id' => 35, 'parentId' => 6, 'name' => 'Beauty & Care', 'position' => 0, 'left' => 32, 'level' => 3, 'right' => 33, 'metaKeywords' => NULL, 'metaDescription' => '', 'cmsHeadline' => '', 'active' => true, 'template' => '', 'blog' => false, 'showFilterGroups' => true, 'external' => '', 'hideFilter' => false, 'hideTop' => false, 'noViewSelect' => false, 'media' => NULL, 'attribute' => array ( 'id' => 39, 'categoryId' => 35, 'attribute1' => '', 'attribute2' => '', 'attribute3' => '', 'attribute4' => '', 'attribute5' => '', 'attribute6' => '', ), 'emotions' => NULL, 'articles' => NULL, ), 'childrenCount' => '0.0000', 'articleCount' => '12', ), 2 => array ( 'category' => array ( 'id' => 36, 'parentId' => 6, 'name' => 'On World Tour', 'position' => 0, 'left' => 34, 'level' => 3, 'right' => 35, 'metaKeywords' => NULL, 'metaDescription' => '', 'cmsHeadline' => '', 'active' => true, 'template' => '', 'blog' => false, 'showFilterGroups' => true, 'external' => '', 'hideFilter' => false, 'hideTop' => false, 'noViewSelect' => false, 'media' => NULL, 'attribute' => array ( 'id' => 40, 'categoryId' => 36, 'attribute1' => '', 'attribute2' => '', 'attribute3' => '', 'attribute4' => '', 'attribute5' => '', 'attribute6' => '', ), 'emotions' => NULL, 'articles' => NULL, ), 'childrenCount' => '0.0000', 'articleCount' => '11', ), 3 => array ( 'category' => array ( 'id' => 37, 'parentId' => 6, 'name' => 'Accessoires', 'position' => 0, 'left' => 36, 'level' => 3, 'right' => 37, 'metaKeywords' => NULL, 'metaDescription' => '', 'cmsHeadline' => '', 'active' => true, 'template' => 'article_listing_2col.tpl', 'blog' => false, 'showFilterGroups' => true, 'external' => '', 'hideFilter' => false, 'hideTop' => false, 'noViewSelect' => false, 'media' => NULL, 'attribute' => array ( 'id' => 41, 'categoryId' => 37, 'attribute1' => '', 'attribute2' => '', 'attribute3' => '', 'attribute4' => '', 'attribute5' => '', 'attribute6' => '', ), 'emotions' => NULL, 'articles' => NULL, ), 'childrenCount' => '0.0000', 'articleCount' => '11', ), ),8=> array ( 0 => array ( 'category' => array ( 'id' => 38, 'parentId' => 8, 'name' => 'Dekoration', 'position' => NULL, 'left' => 22, 'level' => 3, 'right' => 23, 'metaKeywords' => NULL, 'metaDescription' => '', 'cmsHeadline' => 'Mit der richtigen Dekoration in eine Wohlfühlwelt', 'active' => true, 'template' => 'article_listing_1col.tpl', 'blog' => false, 'showFilterGroups' => true, 'external' => '', 'hideFilter' => false, 'hideTop' => false, 'noViewSelect' => false, 'media' => NULL, 'attribute' => array ( 'id' => 42, 'categoryId' => 38, 'attribute1' => '', 'attribute2' => '', 'attribute3' => '', 'attribute4' => '', 'attribute5' => '', 'attribute6' => '', ), 'emotions' => NULL, 'articles' => NULL, ), 'childrenCount' => '0.0000', 'articleCount' => '14', ), 1 => array ( 'category' => array ( 'id' => 32, 'parentId' => 8, 'name' => 'Möbel', 'position' => 0, 'left' => 24, 'level' => 3, 'right' => 25, 'metaKeywords' => NULL, 'metaDescription' => '', 'cmsHeadline' => 'Möbel', 'active' => true, 'template' => '', 'blog' => false, 'showFilterGroups' => true, 'external' => '', 'hideFilter' => false, 'hideTop' => false, 'noViewSelect' => false, 'media' => NULL, 'attribute' => array ( 'id' => 36, 'categoryId' => 32, 'attribute1' => '', 'attribute2' => '', 'attribute3' => '', 'attribute4' => '', 'attribute5' => '', 'attribute6' => '', ), 'emotions' => NULL, 'articles' => NULL, ), 'childrenCount' => '0.0000', 'articleCount' => '16', ), 2 => array ( 'category' => array ( 'id' => 33, 'parentId' => 8, 'name' => 'Küchenzubehör', 'position' => 0, 'left' => 26, 'level' => 3, 'right' => 27, 'metaKeywords' => NULL, 'metaDescription' => '', 'cmsHeadline' => 'Vielfältiges Zubehör für Ihre Küche', 'active' => true, 'template' => '', 'blog' => false, 'showFilterGroups' => true, 'external' => '', 'hideFilter' => false, 'hideTop' => false, 'noViewSelect' => false, 'media' => NULL, 'attribute' => array ( 'id' => 37, 'categoryId' => 33, 'attribute1' => '', 'attribute2' => '', 'attribute3' => '', 'attribute4' => '', 'attribute5' => '', 'attribute6' => '', ), 'emotions' => NULL, 'articles' => NULL, ), 'childrenCount' => '0.0000', 'articleCount' => '18', ), ),9=> array ( 0 => array ( 'category' => array ( 'id' => 31, 'parentId' => 9, 'name' => 'Vintage', 'position' => 0, 'left' => 16, 'level' => 3, 'right' => 17, 'metaKeywords' => NULL, 'metaDescription' => '', 'cmsHeadline' => '', 'active' => true, 'template' => 'article_listing_2col.tpl', 'blog' => false, 'showFilterGroups' => true, 'external' => '', 'hideFilter' => false, 'hideTop' => false, 'noViewSelect' => false, 'media' => NULL, 'attribute' => array ( 'id' => 35, 'categoryId' => 31, 'attribute1' => '', 'attribute2' => '', 'attribute3' => '', 'attribute4' => '', 'attribute5' => '', 'attribute6' => '', ), 'emotions' => NULL, 'articles' => NULL, ), 'childrenCount' => '0.0000', 'articleCount' => '10', ), 1 => array ( 'category' => array ( 'id' => 16, 'parentId' => 9, 'name' => 'Entertainment', 'position' => 1, 'left' => 18, 'level' => 3, 'right' => 19, 'metaKeywords' => NULL, 'metaDescription' => '', 'cmsHeadline' => '', 'active' => true, 'template' => 'article_listing_2col.tpl', 'blog' => false, 'showFilterGroups' => true, 'external' => '', 'hideFilter' => false, 'hideTop' => false, 'noViewSelect' => false, 'media' => NULL, 'attribute' => array ( 'id' => 14, 'categoryId' => 16, 'attribute1' => '', 'attribute2' => '', 'attribute3' => '', 'attribute4' => '', 'attribute5' => '', 'attribute6' => '', ), 'emotions' => NULL, 'articles' => NULL, ), 'childrenCount' => '0.0000', 'articleCount' => '17', ), ),10=> array ( 0 => array ( 'category' => array ( 'id' => 27, 'parentId' => 10, 'name' => 'In Kürze verfügbar', 'position' => 0, 'left' => 40, 'level' => 3, 'right' => 41, 'metaKeywords' => NULL, 'metaDescription' => '', 'cmsHeadline' => 'In Kürze verfügbar', 'active' => true, 'template' => '', 'blog' => false, 'showFilterGroups' => true, 'external' => '', 'hideFilter' => false, 'hideTop' => false, 'noViewSelect' => false, 'media' => NULL, 'attribute' => array ( 'id' => 25, 'categoryId' => 27, 'attribute1' => '', 'attribute2' => '', 'attribute3' => '', 'attribute4' => '', 'attribute5' => '', 'attribute6' => '', ), 'emotions' => NULL, 'articles' => NULL, ), 'childrenCount' => '0.0000', 'articleCount' => '0', ), 1 => array ( 'category' => array ( 'id' => 22, 'parentId' => 10, 'name' => 'Konfiguratorartikel', 'position' => 2, 'left' => 44, 'level' => 3, 'right' => 45, 'metaKeywords' => NULL, 'metaDescription' => '', 'cmsHeadline' => 'Das Plugin Artikelkonfigurator', 'active' => true, 'template' => 'article_listing_1col.tpl', 'blog' => false, 'showFilterGroups' => true, 'external' => '', 'hideFilter' => false, 'hideTop' => false, 'noViewSelect' => false, 'media' => NULL, 'attribute' => array ( 'id' => 20, 'categoryId' => 22, 'attribute1' => '', 'attribute2' => '', 'attribute3' => '', 'attribute4' => '', 'attribute5' => '', 'attribute6' => '', ), 'emotions' => NULL, 'articles' => NULL, ), 'childrenCount' => '0.0000', 'articleCount' => '4', ), 2 => array ( 'category' => array ( 'id' => 30, 'parentId' => 10, 'name' => 'Kundenbindung', 'position' => 3, 'left' => 46, 'level' => 3, 'right' => 47, 'metaKeywords' => NULL, 'metaDescription' => '', 'cmsHeadline' => 'Funktionen zur Kundenbindung', 'active' => true, 'template' => 'article_listing_1col.tpl', 'blog' => false, 'showFilterGroups' => true, 'external' => '', 'hideFilter' => false, 'hideTop' => false, 'noViewSelect' => false, 'media' => NULL, 'attribute' => array ( 'id' => 28, 'categoryId' => 30, 'attribute1' => '', 'attribute2' => '', 'attribute3' => '', 'attribute4' => '', 'attribute5' => '', 'attribute6' => '', ), 'emotions' => NULL, 'articles' => NULL, ), 'childrenCount' => '0.0000', 'articleCount' => '3', ), 3 => array ( 'category' => array ( 'id' => 21, 'parentId' => 10, 'name' => 'Produktvergleiche & Filter', 'position' => 4, 'left' => 48, 'level' => 3, 'right' => 49, 'metaKeywords' => NULL, 'metaDescription' => '', 'cmsHeadline' => 'Eigenschaften und Filter', 'active' => true, 'template' => 'article_listing_2col.tpl', 'blog' => false, 'showFilterGroups' => true, 'external' => '', 'hideFilter' => false, 'hideTop' => false, 'noViewSelect' => false, 'media' => NULL, 'attribute' => array ( 'id' => 19, 'categoryId' => 21, 'attribute1' => '', 'attribute2' => '', 'attribute3' => '', 'attribute4' => '', 'attribute5' => '', 'attribute6' => '', ), 'emotions' => NULL, 'articles' => NULL, ), 'childrenCount' => '0.0000', 'articleCount' => '10', ), 4 => array ( 'category' => array ( 'id' => 20, 'parentId' => 10, 'name' => 'Darstellung', 'position' => 5, 'left' => 50, 'level' => 3, 'right' => 51, 'metaKeywords' => NULL, 'metaDescription' => '', 'cmsHeadline' => 'Artikeldarstellung im Listing.', 'active' => true, 'template' => 'article_listing_1col.tpl', 'blog' => false, 'showFilterGroups' => true, 'external' => '', 'hideFilter' => false, 'hideTop' => false, 'noViewSelect' => false, 'media' => NULL, 'attribute' => array ( 'id' => 18, 'categoryId' => 20, 'attribute1' => '', 'attribute2' => '', 'attribute3' => '', 'attribute4' => '', 'attribute5' => '', 'attribute6' => '', ), 'emotions' => NULL, 'articles' => NULL, ), 'childrenCount' => '0.0000', 'articleCount' => '6', ), 5 => array ( 'category' => array ( 'id' => 19, 'parentId' => 10, 'name' => 'Crossselling', 'position' => 6, 'left' => 52, 'level' => 3, 'right' => 53, 'metaKeywords' => NULL, 'metaDescription' => '', 'cmsHeadline' => 'Crossselling', 'active' => true, 'template' => 'article_listing_2col.tpl', 'blog' => false, 'showFilterGroups' => true, 'external' => '', 'hideFilter' => false, 'hideTop' => false, 'noViewSelect' => false, 'media' => NULL, 'attribute' => array ( 'id' => 17, 'categoryId' => 19, 'attribute1' => '', 'attribute2' => '', 'attribute3' => '', 'attribute4' => '', 'attribute5' => '', 'attribute6' => '', ), 'emotions' => NULL, 'articles' => NULL, ), 'childrenCount' => '0.0000', 'articleCount' => '2', ), 6 => array ( 'category' => array ( 'id' => 74, 'parentId' => 10, 'name' => 'Kundengruppen / B2B', 'position' => 7, 'left' => 54, 'level' => 3, 'right' => 55, 'metaKeywords' => NULL, 'metaDescription' => '', 'cmsHeadline' => 'Kundengruppen', 'active' => true, 'template' => 'article_listing_1col.tpl', 'blog' => false, 'showFilterGroups' => true, 'external' => '', 'hideFilter' => false, 'hideTop' => false, 'noViewSelect' => false, 'media' => NULL, 'attribute' => array ( 'id' => 78, 'categoryId' => 74, 'attribute1' => '', 'attribute2' => '', 'attribute3' => '', 'attribute4' => '', 'attribute5' => '', 'attribute6' => '', ), 'emotions' => NULL, 'articles' => NULL, ), 'childrenCount' => '0.0000', 'articleCount' => '1', ), 7 => array ( 'category' => array ( 'id' => 25, 'parentId' => 10, 'name' => 'Zahlungsarten', 'position' => 8, 'left' => 56, 'level' => 3, 'right' => 57, 'metaKeywords' => NULL, 'metaDescription' => '', 'cmsHeadline' => 'Zahlungsarten & Riskmanagement', 'active' => true, 'template' => 'article_listing_1col.tpl', 'blog' => false, 'showFilterGroups' => true, 'external' => '', 'hideFilter' => false, 'hideTop' => false, 'noViewSelect' => false, 'media' => NULL, 'attribute' => array ( 'id' => 23, 'categoryId' => 25, 'attribute1' => '', 'attribute2' => '', 'attribute3' => '', 'attribute4' => '', 'attribute5' => '', 'attribute6' => '', ), 'emotions' => NULL, 'articles' => NULL, ), 'childrenCount' => '0.0000', 'articleCount' => '3', ), 8 => array ( 'category' => array ( 'id' => 24, 'parentId' => 10, 'name' => 'Versandkosten', 'position' => 7, 'left' => 58, 'level' => 3, 'right' => 59, 'metaKeywords' => NULL, 'metaDescription' => '', 'cmsHeadline' => 'Versandkosteneinstellungen', 'active' => true, 'template' => 'article_listing_1col.tpl', 'blog' => false, 'showFilterGroups' => true, 'external' => '', 'hideFilter' => false, 'hideTop' => false, 'noViewSelect' => false, 'media' => NULL, 'attribute' => array ( 'id' => 22, 'categoryId' => 24, 'attribute1' => '', 'attribute2' => '', 'attribute3' => '', 'attribute4' => '', 'attribute5' => '', 'attribute6' => '', ), 'emotions' => NULL, 'articles' => NULL, ), 'childrenCount' => '0.0000', 'articleCount' => '4', ), 9 => array ( 'category' => array ( 'id' => 23, 'parentId' => 10, 'name' => 'Preisgestaltung', 'position' => 10, 'left' => 60, 'level' => 3, 'right' => 61, 'metaKeywords' => NULL, 'metaDescription' => '', 'cmsHeadline' => 'Möglichkeiten der Preisgestaltung', 'active' => true, 'template' => 'article_listing_1col.tpl', 'blog' => false, 'showFilterGroups' => true, 'external' => '', 'hideFilter' => false, 'hideTop' => false, 'noViewSelect' => false, 'media' => NULL, 'attribute' => array ( 'id' => 21, 'categoryId' => 23, 'attribute1' => '', 'attribute2' => '', 'attribute3' => '', 'attribute4' => '', 'attribute5' => '', 'attribute6' => '', ), 'emotions' => NULL, 'articles' => NULL, ), 'childrenCount' => '0.0000', 'articleCount' => '4', ), ),17=> array ( ),42=> array ( ),43=> array ( 0 => array ( 'category' => array ( 'id' => 47, 'parentId' => 43, 'name' => 'Teas and Accessories', 'position' => NULL, 'left' => 70, 'level' => 3, 'right' => 75, 'metaKeywords' => NULL, 'metaDescription' => '', 'cmsHeadline' => '', 'active' => true, 'template' => NULL, 'blog' => false, 'showFilterGroups' => true, 'external' => '', 'hideFilter' => false, 'hideTop' => false, 'noViewSelect' => false, 'media' => NULL, 'attribute' => array ( 'id' => 51, 'categoryId' => 47, 'attribute1' => '', 'attribute2' => '', 'attribute3' => '', 'attribute4' => '', 'attribute5' => '', 'attribute6' => '', ), 'emotions' => NULL, 'articles' => NULL, ), 'childrenCount' => '2.0000', 'articleCount' => '19', ), 1 => array ( 'category' => array ( 'id' => 50, 'parentId' => 43, 'name' => 'Brandies', 'position' => NULL, 'left' => 76, 'level' => 3, 'right' => 77, 'metaKeywords' => NULL, 'metaDescription' => '', 'cmsHeadline' => '', 'active' => true, 'template' => NULL, 'blog' => false, 'showFilterGroups' => true, 'external' => '', 'hideFilter' => false, 'hideTop' => false, 'noViewSelect' => false, 'media' => NULL, 'attribute' => array ( 'id' => 54, 'categoryId' => 50, 'attribute1' => '', 'attribute2' => '', 'attribute3' => '', 'attribute4' => '', 'attribute5' => '', 'attribute6' => '', ), 'emotions' => NULL, 'articles' => NULL, ), 'childrenCount' => '0.0000', 'articleCount' => '12', ), 2 => array ( 'category' => array ( 'id' => 51, 'parentId' => 43, 'name' => 'Delights', 'position' => NULL, 'left' => 78, 'level' => 3, 'right' => 79, 'metaKeywords' => NULL, 'metaDescription' => '', 'cmsHeadline' => '', 'active' => true, 'template' => NULL, 'blog' => false, 'showFilterGroups' => true, 'external' => '', 'hideFilter' => false, 'hideTop' => false, 'noViewSelect' => false, 'media' => NULL, 'attribute' => array ( 'id' => 55, 'categoryId' => 51, 'attribute1' => '', 'attribute2' => '', 'attribute3' => '', 'attribute4' => '', 'attribute5' => '', 'attribute6' => '', ), 'emotions' => NULL, 'articles' => NULL, ), 'childrenCount' => '0.0000', 'articleCount' => '5', ), ),44=> array ( 0 => array ( 'category' => array ( 'id' => 52, 'parentId' => 44, 'name' => 'Vintage', 'position' => NULL, 'left' => 82, 'level' => 3, 'right' => 83, 'metaKeywords' => NULL, 'metaDescription' => '', 'cmsHeadline' => '', 'active' => true, 'template' => NULL, 'blog' => false, 'showFilterGroups' => true, 'external' => '', 'hideFilter' => false, 'hideTop' => false, 'noViewSelect' => false, 'media' => NULL, 'attribute' => array ( 'id' => 56, 'categoryId' => 52, 'attribute1' => '', 'attribute2' => '', 'attribute3' => '', 'attribute4' => '', 'attribute5' => '', 'attribute6' => '', ), 'emotions' => NULL, 'articles' => NULL, ), 'childrenCount' => '0.0000', 'articleCount' => '5', ), 1 => array ( 'category' => array ( 'id' => 53, 'parentId' => 44, 'name' => 'Entertainment', 'position' => NULL, 'left' => 84, 'level' => 3, 'right' => 85, 'metaKeywords' => NULL, 'metaDescription' => '', 'cmsHeadline' => '', 'active' => true, 'template' => NULL, 'blog' => false, 'showFilterGroups' => true, 'external' => '', 'hideFilter' => false, 'hideTop' => false, 'noViewSelect' => false, 'media' => NULL, 'attribute' => array ( 'id' => 57, 'categoryId' => 53, 'attribute1' => '', 'attribute2' => '', 'attribute3' => '', 'attribute4' => '', 'attribute5' => '', 'attribute6' => '', ), 'emotions' => NULL, 'articles' => NULL, ), 'childrenCount' => '0.0000', 'articleCount' => '6', ), ),45=> array ( 0 => array ( 'category' => array ( 'id' => 54, 'parentId' => 45, 'name' => 'Furniture', 'position' => NULL, 'left' => 88, 'level' => 3, 'right' => 89, 'metaKeywords' => NULL, 'metaDescription' => '', 'cmsHeadline' => '', 'active' => true, 'template' => NULL, 'blog' => false, 'showFilterGroups' => true, 'external' => '', 'hideFilter' => false, 'hideTop' => false, 'noViewSelect' => false, 'media' => NULL, 'attribute' => array ( 'id' => 58, 'categoryId' => 54, 'attribute1' => '', 'attribute2' => '', 'attribute3' => '', 'attribute4' => '', 'attribute5' => '', 'attribute6' => '', ), 'emotions' => NULL, 'articles' => NULL, ), 'childrenCount' => '0.0000', 'articleCount' => '6', ), 1 => array ( 'category' => array ( 'id' => 55, 'parentId' => 45, 'name' => 'Kitchen Accessories', 'position' => NULL, 'left' => 90, 'level' => 3, 'right' => 91, 'metaKeywords' => NULL, 'metaDescription' => '', 'cmsHeadline' => '', 'active' => true, 'template' => NULL, 'blog' => false, 'showFilterGroups' => true, 'external' => '', 'hideFilter' => false, 'hideTop' => false, 'noViewSelect' => false, 'media' => NULL, 'attribute' => array ( 'id' => 59, 'categoryId' => 55, 'attribute1' => '', 'attribute2' => '', 'attribute3' => '', 'attribute4' => '', 'attribute5' => '', 'attribute6' => '', ), 'emotions' => NULL, 'articles' => NULL, ), 'childrenCount' => '0.0000', 'articleCount' => '5', ), 2 => array ( 'category' => array ( 'id' => 56, 'parentId' => 45, 'name' => 'Decoration', 'position' => NULL, 'left' => 92, 'level' => 3, 'right' => 93, 'metaKeywords' => NULL, 'metaDescription' => '', 'cmsHeadline' => '', 'active' => true, 'template' => NULL, 'blog' => false, 'showFilterGroups' => true, 'external' => '', 'hideFilter' => false, 'hideTop' => false, 'noViewSelect' => false, 'media' => NULL, 'attribute' => array ( 'id' => 60, 'categoryId' => 56, 'attribute1' => '', 'attribute2' => '', 'attribute3' => '', 'attribute4' => '', 'attribute5' => '', 'attribute6' => '', ), 'emotions' => NULL, 'articles' => NULL, ), 'childrenCount' => '0.0000', 'articleCount' => '5', ), ),46=> array ( 0 => array ( 'category' => array ( 'id' => 57, 'parentId' => 46, 'name' => 'Beachwear', 'position' => NULL, 'left' => 96, 'level' => 3, 'right' => 97, 'metaKeywords' => NULL, 'metaDescription' => '', 'cmsHeadline' => '', 'active' => true, 'template' => NULL, 'blog' => false, 'showFilterGroups' => true, 'external' => '', 'hideFilter' => false, 'hideTop' => false, 'noViewSelect' => false, 'media' => NULL, 'attribute' => array ( 'id' => 61, 'categoryId' => 57, 'attribute1' => '', 'attribute2' => '', 'attribute3' => '', 'attribute4' => '', 'attribute5' => '', 'attribute6' => '', ), 'emotions' => NULL, 'articles' => NULL, ), 'childrenCount' => '0.0000', 'articleCount' => '6', ), 1 => array ( 'category' => array ( 'id' => 58, 'parentId' => 46, 'name' => 'Beauty & Care', 'position' => NULL, 'left' => 98, 'level' => 3, 'right' => 99, 'metaKeywords' => NULL, 'metaDescription' => '', 'cmsHeadline' => '', 'active' => true, 'template' => NULL, 'blog' => false, 'showFilterGroups' => true, 'external' => '', 'hideFilter' => false, 'hideTop' => false, 'noViewSelect' => false, 'media' => NULL, 'attribute' => array ( 'id' => 62, 'categoryId' => 58, 'attribute1' => '', 'attribute2' => '', 'attribute3' => '', 'attribute4' => '', 'attribute5' => '', 'attribute6' => '', ), 'emotions' => NULL, 'articles' => NULL, ), 'childrenCount' => '0.0000', 'articleCount' => '4', ), 2 => array ( 'category' => array ( 'id' => 59, 'parentId' => 46, 'name' => 'Travel around the World', 'position' => NULL, 'left' => 100, 'level' => 3, 'right' => 101, 'metaKeywords' => NULL, 'metaDescription' => '', 'cmsHeadline' => '', 'active' => true, 'template' => NULL, 'blog' => false, 'showFilterGroups' => true, 'external' => '', 'hideFilter' => false, 'hideTop' => false, 'noViewSelect' => false, 'media' => NULL, 'attribute' => array ( 'id' => 63, 'categoryId' => 59, 'attribute1' => '', 'attribute2' => '', 'attribute3' => '', 'attribute4' => '', 'attribute5' => '', 'attribute6' => '', ), 'emotions' => NULL, 'articles' => NULL, ), 'childrenCount' => '0.0000', 'articleCount' => '5', ), 3 => array ( 'category' => array ( 'id' => 60, 'parentId' => 46, 'name' => 'Accessories', 'position' => NULL, 'left' => 102, 'level' => 3, 'right' => 103, 'metaKeywords' => NULL, 'metaDescription' => '', 'cmsHeadline' => '', 'active' => true, 'template' => NULL, 'blog' => false, 'showFilterGroups' => true, 'external' => '', 'hideFilter' => false, 'hideTop' => false, 'noViewSelect' => false, 'media' => NULL, 'attribute' => array ( 'id' => 64, 'categoryId' => 60, 'attribute1' => '', 'attribute2' => '', 'attribute3' => '', 'attribute4' => '', 'attribute5' => '', 'attribute6' => '', ), 'emotions' => NULL, 'articles' => NULL, ), 'childrenCount' => '0.0000', 'articleCount' => '4', ), ),61=> array ( 0 => array ( 'category' => array ( 'id' => 62, 'parentId' => 61, 'name' => 'Available soon', 'position' => NULL, 'left' => 106, 'level' => 3, 'right' => 107, 'metaKeywords' => NULL, 'metaDescription' => '', 'cmsHeadline' => '', 'active' => true, 'template' => NULL, 'blog' => false, 'showFilterGroups' => true, 'external' => '', 'hideFilter' => false, 'hideTop' => false, 'noViewSelect' => false, 'media' => NULL, 'attribute' => array ( 'id' => 66, 'categoryId' => 62, 'attribute1' => '', 'attribute2' => '', 'attribute3' => '', 'attribute4' => '', 'attribute5' => '', 'attribute6' => '', ), 'emotions' => NULL, 'articles' => NULL, ), 'childrenCount' => '0.0000', 'articleCount' => '0', ), 1 => array ( 'category' => array ( 'id' => 64, 'parentId' => 61, 'name' => 'Customer loyalty', 'position' => NULL, 'left' => 108, 'level' => 3, 'right' => 109, 'metaKeywords' => NULL, 'metaDescription' => '', 'cmsHeadline' => '', 'active' => true, 'template' => 'article_listing_1col.tpl', 'blog' => false, 'showFilterGroups' => true, 'external' => '', 'hideFilter' => false, 'hideTop' => false, 'noViewSelect' => false, 'media' => NULL, 'attribute' => array ( 'id' => 68, 'categoryId' => 64, 'attribute1' => '', 'attribute2' => '', 'attribute3' => '', 'attribute4' => '', 'attribute5' => '', 'attribute6' => '', ), 'emotions' => NULL, 'articles' => NULL, ), 'childrenCount' => '0.0000', 'articleCount' => '3', ), 2 => array ( 'category' => array ( 'id' => 65, 'parentId' => 61, 'name' => 'Configurator articles', 'position' => NULL, 'left' => 110, 'level' => 3, 'right' => 111, 'metaKeywords' => NULL, 'metaDescription' => '', 'cmsHeadline' => '', 'active' => true, 'template' => 'article_listing_1col.tpl', 'blog' => false, 'showFilterGroups' => true, 'external' => '', 'hideFilter' => false, 'hideTop' => false, 'noViewSelect' => false, 'media' => NULL, 'attribute' => array ( 'id' => 69, 'categoryId' => 65, 'attribute1' => '', 'attribute2' => '', 'attribute3' => '', 'attribute4' => '', 'attribute5' => '', 'attribute6' => '', ), 'emotions' => NULL, 'articles' => NULL, ), 'childrenCount' => '0.0000', 'articleCount' => '4', ), 3 => array ( 'category' => array ( 'id' => 67, 'parentId' => 61, 'name' => 'Product comparison', 'position' => NULL, 'left' => 112, 'level' => 3, 'right' => 113, 'metaKeywords' => NULL, 'metaDescription' => '', 'cmsHeadline' => '', 'active' => true, 'template' => 'article_listing_2col.tpl', 'blog' => false, 'showFilterGroups' => true, 'external' => '', 'hideFilter' => false, 'hideTop' => false, 'noViewSelect' => false, 'media' => NULL, 'attribute' => array ( 'id' => 71, 'categoryId' => 67, 'attribute1' => '', 'attribute2' => '', 'attribute3' => '', 'attribute4' => '', 'attribute5' => '', 'attribute6' => '', ), 'emotions' => NULL, 'articles' => NULL, ), 'childrenCount' => '0.0000', 'articleCount' => '6', ), 4 => array ( 'category' => array ( 'id' => 68, 'parentId' => 61, 'name' => 'Presentation', 'position' => NULL, 'left' => 114, 'level' => 3, 'right' => 115, 'metaKeywords' => NULL, 'metaDescription' => '', 'cmsHeadline' => '', 'active' => true, 'template' => 'article_listing_2col.tpl', 'blog' => false, 'showFilterGroups' => true, 'external' => '', 'hideFilter' => false, 'hideTop' => false, 'noViewSelect' => false, 'media' => NULL, 'attribute' => array ( 'id' => 72, 'categoryId' => 68, 'attribute1' => '', 'attribute2' => '', 'attribute3' => '', 'attribute4' => '', 'attribute5' => '', 'attribute6' => '', ), 'emotions' => NULL, 'articles' => NULL, ), 'childrenCount' => '0.0000', 'articleCount' => '6', ), 5 => array ( 'category' => array ( 'id' => 69, 'parentId' => 61, 'name' => 'Crossselling', 'position' => NULL, 'left' => 116, 'level' => 3, 'right' => 117, 'metaKeywords' => NULL, 'metaDescription' => '', 'cmsHeadline' => '', 'active' => true, 'template' => 'article_listing_1col.tpl', 'blog' => false, 'showFilterGroups' => true, 'external' => '', 'hideFilter' => false, 'hideTop' => false, 'noViewSelect' => false, 'media' => NULL, 'attribute' => array ( 'id' => 73, 'categoryId' => 69, 'attribute1' => '', 'attribute2' => '', 'attribute3' => '', 'attribute4' => '', 'attribute5' => '', 'attribute6' => '', ), 'emotions' => NULL, 'articles' => NULL, ), 'childrenCount' => '0.0000', 'articleCount' => '2', ), 6 => array ( 'category' => array ( 'id' => 71, 'parentId' => 61, 'name' => 'Payment methods', 'position' => NULL, 'left' => 118, 'level' => 3, 'right' => 119, 'metaKeywords' => NULL, 'metaDescription' => '', 'cmsHeadline' => '', 'active' => true, 'template' => 'article_listing_1col.tpl', 'blog' => false, 'showFilterGroups' => true, 'external' => '', 'hideFilter' => false, 'hideTop' => false, 'noViewSelect' => false, 'media' => NULL, 'attribute' => array ( 'id' => 75, 'categoryId' => 71, 'attribute1' => '', 'attribute2' => '', 'attribute3' => '', 'attribute4' => '', 'attribute5' => '', 'attribute6' => '', ), 'emotions' => NULL, 'articles' => NULL, ), 'childrenCount' => '0.0000', 'articleCount' => '3', ), 7 => array ( 'category' => array ( 'id' => 72, 'parentId' => 61, 'name' => 'Shipping costs', 'position' => NULL, 'left' => 120, 'level' => 3, 'right' => 121, 'metaKeywords' => NULL, 'metaDescription' => '', 'cmsHeadline' => '', 'active' => true, 'template' => 'article_listing_1col.tpl', 'blog' => false, 'showFilterGroups' => true, 'external' => '', 'hideFilter' => false, 'hideTop' => false, 'noViewSelect' => false, 'media' => NULL, 'attribute' => array ( 'id' => 76, 'categoryId' => 72, 'attribute1' => '', 'attribute2' => '', 'attribute3' => '', 'attribute4' => '', 'attribute5' => '', 'attribute6' => '', ), 'emotions' => NULL, 'articles' => NULL, ), 'childrenCount' => '0.0000', 'articleCount' => '5', ), 8 => array ( 'category' => array ( 'id' => 73, 'parentId' => 61, 'name' => 'Price strategies', 'position' => NULL, 'left' => 122, 'level' => 3, 'right' => 123, 'metaKeywords' => NULL, 'metaDescription' => '', 'cmsHeadline' => '', 'active' => true, 'template' => 'article_listing_1col.tpl', 'blog' => false, 'showFilterGroups' => true, 'external' => '', 'hideFilter' => false, 'hideTop' => false, 'noViewSelect' => false, 'media' => NULL, 'attribute' => array ( 'id' => 77, 'categoryId' => 73, 'attribute1' => '', 'attribute2' => '', 'attribute3' => '', 'attribute4' => '', 'attribute5' => '', 'attribute6' => '', ), 'emotions' => NULL, 'articles' => NULL, ), 'childrenCount' => '0.0000', 'articleCount' => '4', ), ),11=> array ( 0 => array ( 'category' => array ( 'id' => 12, 'parentId' => 11, 'name' => 'Tees', 'position' => 0, 'left' => 5, 'level' => 4, 'right' => 6, 'metaKeywords' => NULL, 'metaDescription' => '', 'cmsHeadline' => 'Tees', 'active' => true, 'template' => 'article_listing_2col.tpl', 'blog' => false, 'showFilterGroups' => true, 'external' => '', 'hideFilter' => false, 'hideTop' => false, 'noViewSelect' => false, 'media' => NULL, 'attribute' => array ( 'id' => 10, 'categoryId' => 12, 'attribute1' => '', 'attribute2' => '', 'attribute3' => '', 'attribute4' => '', 'attribute5' => '', 'attribute6' => '', ), 'emotions' => NULL, 'articles' => NULL, ), 'childrenCount' => '0.0000', 'articleCount' => '14', ), 1 => array ( 'category' => array ( 'id' => 13, 'parentId' => 11, 'name' => 'Tee-Zubehör', 'position' => 1, 'left' => 7, 'level' => 4, 'right' => 8, 'metaKeywords' => NULL, 'metaDescription' => '', 'cmsHeadline' => 'Tee-Zubehör', 'active' => true, 'template' => 'article_listing_1col.tpl', 'blog' => false, 'showFilterGroups' => true, 'external' => '', 'hideFilter' => false, 'hideTop' => false, 'noViewSelect' => false, 'media' => NULL, 'attribute' => array ( 'id' => 11, 'categoryId' => 13, 'attribute1' => '', 'attribute2' => '', 'attribute3' => '', 'attribute4' => '', 'attribute5' => '', 'attribute6' => '', ), 'emotions' => NULL, 'articles' => NULL, ), 'childrenCount' => '0.0000', 'articleCount' => '9', ), ),14=> array ( ),15=> array ( ),16=> array ( ),19=> array ( ),20=> array ( ),21=> array ( ),22=> array ( ),23=> array ( ),24=> array ( ),25=> array ( ),27=> array ( ),30=> array ( ),31=> array ( ),32=> array ( ),33=> array ( ),34=> array ( ),35=> array ( ),36=> array ( ),37=> array ( ),38=> array ( ),47=> array ( 0 => array ( 'category' => array ( 'id' => 48, 'parentId' => 47, 'name' => 'Teas', 'position' => NULL, 'left' => 71, 'level' => 4, 'right' => 72, 'metaKeywords' => NULL, 'metaDescription' => '', 'cmsHeadline' => '', 'active' => true, 'template' => NULL, 'blog' => false, 'showFilterGroups' => true, 'external' => '', 'hideFilter' => false, 'hideTop' => false, 'noViewSelect' => false, 'media' => NULL, 'attribute' => array ( 'id' => 52, 'categoryId' => 48, 'attribute1' => '', 'attribute2' => '', 'attribute3' => '', 'attribute4' => '', 'attribute5' => '', 'attribute6' => '', ), 'emotions' => NULL, 'articles' => NULL, ), 'childrenCount' => '0.0000', 'articleCount' => '14', ), 1 => array ( 'category' => array ( 'id' => 49, 'parentId' => 47, 'name' => 'Teas and accessories', 'position' => NULL, 'left' => 73, 'level' => 4, 'right' => 74, 'metaKeywords' => NULL, 'metaDescription' => '', 'cmsHeadline' => '', 'active' => true, 'template' => NULL, 'blog' => false, 'showFilterGroups' => true, 'external' => '', 'hideFilter' => false, 'hideTop' => false, 'noViewSelect' => false, 'media' => NULL, 'attribute' => array ( 'id' => 53, 'categoryId' => 49, 'attribute1' => '', 'attribute2' => '', 'attribute3' => '', 'attribute4' => '', 'attribute5' => '', 'attribute6' => '', ), 'emotions' => NULL, 'articles' => NULL, ), 'childrenCount' => '0.0000', 'articleCount' => '5', ), ),50=> array ( ),51=> array ( ),52=> array ( ),53=> array ( ),54=> array ( ),55=> array ( ),56=> array ( ),57=> array ( ),58=> array ( ),59=> array ( ),60=> array ( ),62=> array ( ),64=> array ( ),65=> array ( ),67=> array ( ),68=> array ( ),69=> array ( ),71=> array ( ),72=> array ( ),73=> array ( ),74=> array ( ),75=> array ( ),12=> array ( ),13=> array ( ),48=> array ( ),49=> array ( ),
    );


    /**
     * @return Shopware\Models\Category\Repository
     */
    protected function getRepo() {
        if ($this->repo === null) {
            $this->repo = Shopware()->Models()->Category();
        }
        return $this->repo;
    }

    public function testQuery() {
        foreach($this->expected as $id => $expected) {
            $query = $this->getRepo()->getActiveByParentIdQuery($id);
            $data = $this->removeDates($query->getArrayResult());
            $this->assertEquals($data, $expected);
        }
    }

    protected function removeDates($data) {
        foreach($data as &$subCategory) {
            unset($subCategory['category']['changed']);
            unset($subCategory['category']['cmsText']);
            unset($subCategory['category']['added']);
            foreach($subCategory['category']['emotions'] as &$emotion) {
                unset($emotion['createDate']);
                unset($emotion['modified']);
            }
            foreach($subCategory['category']['articles'] as &$article) {
                unset($article['added']);
                unset($article['changed']);
                unset($article['description']);
                unset($article['descriptionLong']);
                unset($article['mainDetail']['releaseDate']);
            }
        }
        return $data;
    }

}